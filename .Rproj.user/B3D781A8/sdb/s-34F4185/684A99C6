{
    "collab_server" : "",
    "contents" : "---\ntitle: \"Data-Wrangling2\"\nauthor: \"He Jin\"\ndate: \"10/23/2017\"\noutput: html_document\n---\n\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(echo = TRUE)\n\nlibrary(tidyverse)\nlibrary(rvest)\nlibrary(httr)\n\n```\n\n## Scraping\n## Extracting tables\n```{r}\nurl = \"http://samhda.s3-us-gov-west-1.amazonaws.com/s3fs-public/field-uploads/2k15StateFiles/NSDUHsaeShortTermCHG2015.htm\"\ndrug_use_xml = read_html(url)\n\n```\n\nThat's step one\n\n```{r}\ndrug_use_xml %>%\n  html_nodes(css = \"table\")\n```\n\n```{r}\ntable_marj = (drug_use_xml %>% html_nodes(css = \"table\"))[[1]] %>%  ## give me the first one\n  html_table() %>%\n  .[-1,] %>% \n  as_tibble()\ntable_marj\n```\n\n## class practice\n```{r}\nurl2 = \"https://www.bestplaces.net/cost_of_living/city/new_york/new_york\"\nhotel_xml = read_html(url2)\ntable_hotel = (hotel_xml %>% html_nodes(css = \"table\"))[[2]] %>% \n  html_table(header = TRUE)\n\n```\n\n## CSS selectors\nI want the names!!\n\n```{r}\nurl3 = \"http://www.imdb.com/title/tt0241527/\"\n\nhpss_xml = read_html(url3)\n\nhpss_cast = hpss_xml %>%\n  html_nodes(\".itemprop .itemprop\") %>%\n  html_text()\n\n```\n\n```{r}\nurl4 = \"https://www.amazon.com/Philips-Sonicare-rechargeable-toothbrush-HX6211/product-reviews/B00YAR7ZFM/ref=cm_cr_arp_d_viewopt_srt?ie=UTF8&reviewerType=all_reviews&sortBy=recent&pageNumber=1\"\n\ntoothbrush_xml = read_html(url4)\n\ntoothbrush_titles = toothbrush_xml %>% \n  html_nodes(css = \"#cm_cr-review_list .review-rating\") %>% \n  html_text()\ntoothbrush_titles\n```\n\n\n",
    "created" : 1508779585216.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "624568168",
    "id" : "684A99C6",
    "lastKnownWriteTime" : 1508781251,
    "last_content_update" : 1508782193289,
    "path" : "~/Semester 1/DS-1/20171023/Reading data from web.Rmd",
    "project_path" : "Reading data from web.Rmd",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}